<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
      xmlns:ace="http://www.icefaces.org/icefaces/components">
    <h:head>
        <title>Add route</title>
    </h:head>
    <h:body>
        <f:view> 
            <h:form> 
                <h2 align="center"> 
                    <h:outputLabel value="Add new route"/> 
                </h2> 

                <p align="center"> 
                    <h:outputLabel value="The number of the new route    " for="number"/>
                    <h:inputText id="number" value="#{addRouteBean.number}" required="true"> 
                        <f:validateLongRange maximum="1000" minimum="1"/>
                    </h:inputText> 
                    <h:message for="number" style="color:red" />    
                </p> 
                <p align="center"> 
                    <h:outputLabel value="The ticket price of the new route    " for="price"/>
                    <h:inputText id="price" value="#{addRouteBean.ticketprice}" required="true"> 
                        <f:validateLongRange maximum="1000" minimum="1"/>
                    </h:inputText> 
                    <h:message for="price" style="color:red" />    
                </p> 
                <table align="center"> 
                    <tr>
                        <td>
                            <ace:dataTable value="#{stopBean.getFirstStops()}"
                                           var="st"
                                           stateMap="#{stopBean.stateMap}">
                                <ace:column headerText="Id" rendered ="false" >
                                    <h:outputText value="#{st.idStop}"/>
                                </ace:column>
                                <ace:column headerText="Name"
                                            filterBy="#{st.name}" filterMatchMode="contains">
                                    <h:outputText value="#{st.name}"/>
                                </ace:column>
                                <ace:column headerText="Coordinate X"
                                            rendered ="false" filterBy="#{st.coordX}" filterMatchMode="contains">
                                    <h:outputText value="#{st.coordX}"/>
                                </ace:column>
                                <ace:column headerText="Coordinate Y"
                                            rendered ="false" filterBy="#{st.coordY}" filterMatchMode="contains">
                                    <h:outputText value="#{st.coordY}"/>
                                </ace:column>
                            </ace:dataTable>
                        </td>
                        <td style="width: 20px;">
                        </td>
                        <td>
                            <ace:dataTable value="#{stopBean.getSecondStops()}"
                                           var="st"
                                           stateMap="#{stopBean.stateMap}">
                                <ace:column headerText="Id" rendered ="false">
                                    <h:outputText value="#{st.idStop}"/>
                                </ace:column>
                                <ace:column headerText="Name"
                                            filterBy="#{st.name}" filterMatchMode="contains">
                                    <h:outputText value="#{st.name}"/>
                                </ace:column>
                                <ace:column headerText="Coordinate X"
                                            rendered ="false" filterBy="#{st.coordX}" filterMatchMode="contains">
                                    <h:outputText value="#{st.coordX}"/>
                                </ace:column>
                                <ace:column headerText="Coordinate Y"
                                            rendered ="false" filterBy="#{st.coordY}" filterMatchMode="contains">
                                    <h:outputText value="#{st.coordY}"/>
                                </ace:column>
                            </ace:dataTable>
                        </td>
                    </tr>
                </table> 
                <ace:dataTable value="#{stopBean.getAllStops()}"
                               var="st"
                               stateMap="#{addStopBean.stateMap}"  
                               selectionMode="single">
                    <ace:column headerText="Id" rendered ="false">
                        <h:outputText value="#{st.idStop}"/>
                    </ace:column>
                    <ace:column headerText="Name" sortBy="#{st.name}"
                                filterBy="#{st.name}" filterMatchMode="contains">
                        <h:outputText value="#{st.name}"/>
                    </ace:column>
                    <ace:column headerText="Coordinate X" sortBy="#{st.coordX}"
                                filterBy="#{st.coordX}" filterMatchMode="contains">
                        <h:outputText value="#{st.coordX}"/>
                    </ace:column>
                    <ace:column headerText="Coordinate Y" sortBy="#{st.coordY}"
                                filterBy="#{st.coordY}" filterMatchMode="contains">
                        <h:outputText value="#{st.coordY}"/>
                    </ace:column>
                </ace:dataTable>
                <p align="center"> 
                    <h:commandButton  value="Add stop to the first scheme" actionListener="#{addStopBean.addNewFirstStop}"/> 
                    <h:commandButton  value="Add stop to the second scheme" actionListener="#{addStopBean.addNewSecondStop}"/> 
                </p>
                <br/>
                <p align="center"> 
                    <h:commandButton  value="Mirror he first scheme" action="#{addStopBean.mirror()}"/> 
                </p>
                 <p align="center"> 
                    <h:commandButton  value="Cancel" action="#{addRouteBean.cancelAddRoute()}"/> 
                </p>
                <p>
                    <h:commandButton  value="Save the route" action="#{addRouteBean.addNewRoute()}"/>
                </p>
            </h:form> 
        </f:view>
    </h:body>
</html>


